<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src="https://rawgit.com/schmich/instascan-builds/master/instascan.min.js"></script>
    
<style>
 
html,body{
    margin: 0;
      padding: 0; 
}
body{
    background:#1d1e5f;
}
*{
    margin: 0;
      padding: 0;  
    }

    .title
    {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
        padding:20px 20px;
        background-color:#1d1e5f;
        color:  rgb(189, 179, 189);
        letter-spacing: 5px;
        font-size:35px;
        }
        .input{
        border-radius: 6px;
        height: 30px;
        width:305px;
        background:#1d1e5f;
        padding:5px 5px;
        margin:2px;
        border:none;
        color: white;
        
        border-bottom: 1px solid rgb(189, 179, 189);
 position: relative;
  /* -webkit-transition: width 0.4s ease-in-out; */
  transition: 0.5s cubic-bezier(0.18, 0.14, 0, 1.17);
    }
    input:focus{
        width:500px;
        

    }
    
    
    .button{
       /* border-radius:10px; */
       border: none;
       
      /* border: 4px solid purple; */
      background:#1d1e5f;
      color:white;
      padding: 8px 32px;
      text-decoration: none;
      margin: 4px 2px;
      cursor: pointer;
      font-weight: lighter;
      letter-spacing: 3px;
      font-family:-apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif ;
      transition: 0.3s ease-in-out;
      
    }    
    .button:hover{
        background-color:#f64c72;
        color: white;
        /* padding:10px 35px; */
       transform: scale(1.3);
        opacity: 1;
        
      
    }   
        
    .qrbutton{
       /* border-radius:10px; */
       border: none;
       
      /* border: 4px solid purple; */
      background:#1d1e5f;
      color:white;
      padding: 8px 32px;
      text-decoration: none;
      margin: 4px 2px;
      cursor: pointer;
      font-weight: lighter;
      letter-spacing: 3px;
      font-family:-apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif ;
      transition: 0.3s ease-in-out;
      
    }    
    .qrbutton:hover{
        background-color:#f64c72;
        color: white;
        /* padding:10px 35px; */
       transform: scale(1.3);
        opacity: 1;
        
      
    }   
    
    
    .inputbox{
            /* background-color: blue; */
            padding:20px 20px;
        margin:75px 25px;
        text-align: center;
        height:130px;
        position: relative;
        box-sizing: border-box;
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
    
        }
    
        .buttonbox{
            
            padding:5px 5px;
        margin: 5px;
        display:block
        }


        .output{
           /* background-color: aqua; */
    border:1px black solid;
    height: 600px;
    width:600px;
    /* padding:20px 20px; */
    margin:10px;
margin:0 auto;
    /* text-align: center; */
    font-family: "SF Pro Text","SF Pro Icons","Helvetica Neue","Helvetica","Arial",sans-serif;

    }
    .qroutput{
           /* background-color: aqua; */
    /* border:1px black solid; */
    height: 600px;
    width:600px;
    /* padding:20px 20px; */
    margin:10px;
margin:0 auto;
    /* text-align: center; */
    font-family: "SF Pro Text","SF Pro Icons","Helvetica Neue","Helvetica","Arial",sans-serif;

    }
.output > p{

    /* text-align: center; */
    list-style: none;
    margin:15px 20px;
    padding:10px 16px;
    font-weight:lighter;
    
    color: white;
    border-bottom: 1px solid rgb(189, 179, 189);
    
    /* border-bottom-right-radius: 20px;  */
    font-size: large;
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
    transition: 0.5s cubic-bezier(0.18, 0.14, 0, 1.17);
}
.qroutput > p{

/* text-align: center; */
list-style: none;
margin:15px 20px;
padding:10px 16px;
font-weight:lighter;

color: white;
border-bottom: 1px solid rgb(189, 179, 189);

/* border-bottom-right-radius: 20px;  */
font-size: large;
font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
transition: 0.5s cubic-bezier(0.18, 0.14, 0, 1.17);
}
.output > h1 {
    color:white;
    margin:10px 20px;
    text-align: center;
    font-weight: lighter;
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
}
    
.qroutput > h1 {
    color:white;
    margin:10px 20px;
    text-align: center;
    font-weight: lighter;
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
}
    
.qrcambox{

height:400px;
width:400px;
/* border:2px black solid; */
margin: 0 auto;
}
.preview{
height:400px;
width:400px;


}

    .qroutput > p:hover{
        transform:scale(1.3);

    }




    .input:focus{
        outline:none;
    }
    .button:focus{
        outline:none;
    }

p:hover{
    transform:scale(1.3);
}
.qrbutton:focus{
    outline:none;
}

    </style>
    
</head>
<body>

    <div class="container">
       <nav> <div class="title">VeriDoc</div></nav>
    
        <div class="inputbox">
            <!-- <form action=""><input type="text" class="input"placeholder="Search..."></form>
            <div class="buttonbox">
              <button class="button">SUBMIT</button>
             
            </div> -->


            <div class="buttonbox">
            <button class="qrbutton">SCAN QRCODE</button>
        </div>
        
        </div>
    
    
       <!-- <div class="output"></div> -->
    </div>

    <div class="qrcambox">
        <video class="preview"></video>
        </div>
        <div class="qroutput"></div>


    <script>

    let qrbutton=document.querySelector(".qrbutton");
    
    // function to scan qrcode
    qrbutton.addEventListener("click",qrcode);
    


function qrcode(){
      let scanner = new Instascan.Scanner({ video: document.querySelector('.preview') });
      scanner.addListener('scan', function (content) {
        console.log(content);
        let api="http://localhost:8080/api/getBlock/";
        let url;
       
       url=api+content;
       

       console.log(url);
        fetch(url)
        .then(function(res){
            return res.text();
        }).then(function(data){
            let blocks;
            console.log(typeof(data));
            blocks=JSON.parse(data);
            console.log(typeof(blocks));
            console.log(data);
            console.log(blocks.blockID);
            let result=`<h1>BLOCK INFORMATION</h1>`;
           
                result+=`
               
                    <p>BlockID:   ${blocks.blockID}</p>
                    <p>Time:      ${blocks.time}</p>
                    <p>Data:      ${blocks.data}</p>
                    <p>Signature: ${blocks.signature}</p>
                    <p>NodeId:    ${blocks.nodeID}</p>
                    <p>Prev:      ${blocks.prev}</p>
                    <p>Hash:      ${blocks.hash}</p>
                    <p>Nonce:     ${blocks.nonce}</p>
                    
                
                
                `
            
let qroutput=document.querySelector(".qroutput");
// output.style=`




// `;
qroutput.innerHTML=result;
        })


    //    let qroutput=document.querySelector(".qroutput");
    //     content=`<p>${content}</p>`;
    //    qroutput.innerHTML=content;
      });
      Instascan.Camera.getCameras().then(function (cameras) {
        if (cameras.length > 0) {
          scanner.start(cameras[0]);
        } else {
          console.error('No cameras found.');
        }
      }).catch(function (e) {
        console.error(e);
      });
    }

    
// function for search
//     let button=document.querySelector(".button");
//     button.addEventListener('click',callapi);

//     function callapi(){
//         let api="http://localhost:8080/api/getBlock/"
//         input=document.querySelector(".input");
//         let url;
       
//         url=api+input.value;

//         console.log(url);
//         fetch(url)
//         .then(function(res){
//             return res.text();
//         }).then(function(data){
//             let blocks;
//             console.log(typeof(data));
//             blocks=JSON.parse(data);
//             console.log(typeof(blocks));
//             console.log(data);
//             console.log(blocks.blockID);
//             let result=`<h1>BLOCK INFORMATION</h1>`;
           
//                 result+=`
               
//                     <p>BlockID:   ${blocks.blockID}</p>
//                     <p>Time:      ${blocks.time}</p>
//                     <p>Data:      ${blocks.data}</p>
//                     <p>Signature: ${blocks.signature}</p>
//                     <p>NodeId:    ${blocks.nodeID}</p>
//                     <p>Prev:      ${blocks.prev}</p>
//                     <p>Hash:      ${blocks.hash}</p>
//                     <p>Nonce:     ${blocks.nonce}</p>
                    
                
                
//                 `
            
// let output=document.querySelector(".output");
// output.style=`




// `;
// output.innerHTML=result;
//         })
//     }
    
    </script>
</body>
</html>